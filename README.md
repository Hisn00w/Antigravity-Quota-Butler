# AG é¢åº¦ç®¡å®¶ (AG Quota Butler)

[![Visual Studio Marketplace Version](https://img.shields.io/visual-studio-marketplace/v/hisn00w.antigravity-quota-butler?style=flat-square&label=VS%20Code&color=blue)](https://marketplace.visualstudio.com/items?itemName=hisn00w.antigravity-quota-butler)
[![Open VSX Version](https://img.shields.io/open-vsx/v/hisn00w/antigravity-quota-butler?style=flat-square&label=Open%20VSX&color=purple)](https://open-vsx.org/extension/hisn00w/antigravity-quota-butler)
[![Visual Studio Marketplace Installs](https://img.shields.io/visual-studio-marketplace/i/hisn00w.antigravity-quota-butler?style=flat-square&label=installs&color=brightgreen)](https://marketplace.visualstudio.com/items?itemName=hisn00w.antigravity-quota-butler)
[![Visual Studio Marketplace Rating](https://img.shields.io/visual-studio-marketplace/r/hisn00w.antigravity-quota-butler?style=flat-square&label=rating)](https://marketplace.visualstudio.com/items?itemName=hisn00w.antigravity-quota-butler)

[ç®€ä½“ä¸­æ–‡](#ç®€ä½“ä¸­æ–‡) | [English](#english) | [Open VSX](https://open-vsx.org/extension/hisn00w/antigravity-quota-butler) | [VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=hisn00w.antigravity-quota-butler)

---

## ç®€ä½“ä¸­æ–‡

### åŠŸèƒ½å±•ç¤º

<img src="assets/Dashboard.png" alt="ä»ªè¡¨ç›˜" width="700"/>

*å¯è§†åŒ–ä»ªè¡¨ç›˜ - ä¸€ç›®äº†ç„¶æŒæ¡æ‰€æœ‰æ¨¡å‹çŠ¶æ€*

<img src="assets/UsageHistoryandPreferences.png" alt="ä½¿ç”¨è®°å½•å’Œåå¥½è®¾ç½®" width="700"/>

*å†å²è¶‹åŠ¿å›¾è¡¨ä¸ä¸­å¿ƒåŒ–è®¾ç½®é¢æ¿*

<img src="assets/Statusbar.png" alt="çŠ¶æ€æ çª—å£" width="700"/>

*çŠ¶æ€æ å¿«é€Ÿèœå• - ä¸€é”®åˆ‡æ¢å›ºå®šæ¨¡å‹*


### åŠŸèƒ½ç‰¹æ€§

- **å®æ—¶é¢åº¦ç›‘æ§**ï¼šè‡ªåŠ¨æ£€æµ‹ Antigravity è¿›ç¨‹ï¼Œåå°å®šæœŸè½®è¯¢ï¼Œæ”¯æŒå¤šæ¨¡å‹è·Ÿè¸ªã€‚
- **çŠ¶æ€æ é›†æˆ**ï¼šç›´æ¥åœ¨çŠ¶æ€æ é€šè¿‡å›¾æ ‡ï¼ˆ$(check), $(warning), $(error)ï¼‰å±•ç¤ºé¢åº¦å¥åº·çŠ¶å†µã€‚
- **é¢åº¦æŠ¥è­¦ä¸æ™ºèƒ½å»ºè®®**ï¼šè‡ªå®šä¹‰å‘Šè­¦é˜ˆå€¼ï¼Œé¢åº¦ä¸è¶³æ—¶è‡ªåŠ¨å¯»æ‰¾å¹¶å»ºè®®åŒçº§æ›¿ä»£æ¨¡å‹ã€‚
- **æ¶ˆè€—è¶‹åŠ¿è¿½è¸ª**ï¼šæœ¬åœ°æŒä¹…åŒ–å­˜å‚¨é¢åº¦å˜åŒ–ï¼Œæ™ºèƒ½å·®å¼‚åŒ–è®°å½•ã€‚
- **å¯è§†åŒ–ä»ªè¡¨ç›˜**ï¼šç²¾ç¾çš„ Webview é¢æ¿ï¼ŒåŒ…å« SVG è¶‹åŠ¿æŠ˜çº¿å›¾å’Œä¸­å¿ƒåŒ–è®¾ç½®å…¥å£ã€‚
- **è·¨å¹³å°**ï¼šå®Œå…¨æ”¯æŒ Windows, macOS å’Œ Linuxã€‚

### å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
| --- | --- |
| `AGQ: ç«‹å³åˆ·æ–°` | æ‰‹åŠ¨åˆ·æ–°é¢åº¦æ•°æ® |
| `AGQ: é¢åº¦ä»ªè¡¨ç›˜` | æ‰“å¼€å…¨å±å¯è§†åŒ–ä»ªè¡¨ç›˜ä¸è®¾ç½®ä¸­å¿ƒ |
| `AGQ: é‡æ–°è¿æ¥è¿›ç¨‹` | å¼ºåˆ¶é‡æ–°æ‰«æ Antigravity æœåŠ¡è¿›ç¨‹ |
| `AGQ: æ˜¾ç¤ºè°ƒè¯•æ—¥å¿—` | æŸ¥çœ‹è¯¦ç»†è¿è¡Œæ—¥å¿—ï¼Œç”¨äºæ’éšœ |

### é…ç½®

| è®¾ç½® | é»˜è®¤å€¼ | è¯´æ˜ |
| --- | --- | --- |
| `agq.enabled` | `true` | å¯ç”¨/ç¦ç”¨é¢åº¦ç›‘æ§ |
| `agq.pollingInterval` | `120` | è½®è¯¢é—´éš”ï¼ˆç§’ï¼‰ï¼ˆæœ€å° 30sï¼‰ |
| `agq.pinnedModels` | `[]` | åœ¨çŠ¶æ€æ å›ºå®šçš„æ¨¡å‹ ID |
| `agq.warningThreshold` | `20` | å‘Šè­¦é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰ |
| `agq.autoSwitchModels` | `false` | æ˜¯å¦å¼€å¯æ™ºèƒ½åˆ‡æ¢å»ºè®® |

---

## English

### Feature Showcase

<img src="assets/Dashboard.png" alt="Dashboard" width="700"/>

*Visual Dashboard - Monitor all model statuses at a glance*

<img src="assets/UsageHistoryandPreferences.png" alt="History and Settings" width="700"/>

*Historical trend charts with centralized settings panel*

<img src="assets/Statusbar.png" alt="Status Bar Menu" width="700"/>

*Status bar quick menu - Toggle pinned models with one click*

### Features

- **Real-time Monitoring**: Auto-detects Antigravity processes, background polling, and tracking for multiple models.
- **Status Bar Integration**: Visual health indicators ($(check), $(warning), $(error)) at a glance.
- **Quota Alerts & smart Suggestions**: Configurable thresholds and automatic substitute model recommendations.
- **Usage History**: Persistent local storage of quota changes with optimized logging.
- **Visual Dashboard**: Beautiful Webview with SVG trend charts and centralized settings.
- **Cross-platform**: Full support for Windows, macOS, and Linux.

### Commands

| Command | Description |
| --- | --- |
| `AGQ: Refresh Now` | Manually fetch the latest quota data |
| `AGQ: Quota Dashboard` | Open the visualized dashboard and settings |
| `AGQ: Reconnect Process` | Force rescan for Antigravity service process |
| `AGQ: Show Debug Logs` | Open the log panel for troubleshooting |

### Configuration

| Setting | Default | Description |
| --- | --- | --- |
| `agq.enabled` | `true` | Enable/disable quota monitoring |
| `agq.pollingInterval` | `120` | Polling interval in seconds (min 30s) |
| `agq.pinnedModels` | `[]` | Model IDs to pin in the status bar |
| `agq.warningThreshold` | `20` | Warning threshold percentage |
| `agq.autoSwitchModels` | `false` | Enable/disable smart model suggestions |

---

## å®‰è£… / Installation

### æ–¹å¼ Aï¼šAntigravity IDE æ‰©å±•å•†åº— (æ¨è) / Method A: Antigravity IDE Extension Store (Recommended)
åœ¨ **Antigravity IDE** çš„æ‰©å±•è§†å›¾ä¸­æœç´¢ **`AG é¢åº¦ç®¡å®¶`** æˆ– **`AG Quota Butler`** å¹¶ç‚¹å‡»å®‰è£…ã€‚
Search for **`AG é¢åº¦ç®¡å®¶`** or **`AG Quota Butler`** in the **Antigravity IDE** Extensions view and click Install.

> ğŸ’¡ **æç¤º / Tip**: Antigravity IDE é»˜è®¤ä½¿ç”¨ Open VSX Registryï¼Œå¯ä»¥ç›´æ¥æœç´¢å®‰è£…æœ¬æ’ä»¶ã€‚

[View on Open VSX](https://open-vsx.org/extension/hisn00w/antigravity-quota-butler)

### æ–¹å¼ Bï¼šVS Code å¸‚åœº / Method B: VS Code Marketplace
åœ¨ VS Code æ‰©å±•è§†å›¾ä¸­æœç´¢ **`AG é¢åº¦ç®¡å®¶`** æˆ– **`AG Quota Butler`** å¹¶ç‚¹å‡»å®‰è£…ã€‚
Search for **`AG é¢åº¦ç®¡å®¶`** or **`AG Quota Butler`** in the VS Code Extensions view and click Install.
[View on Marketplace](https://marketplace.visualstudio.com/items?itemName=hisn00w.antigravity-quota-butler)

### æ–¹å¼ Cï¼šæ‰‹åŠ¨å®‰è£… / Method C: Manual Installation
1. ä¸‹è½½æœ€æ–°çš„ `.vsix` æ–‡ä»¶ / Download the latest `.vsix` from [Releases](https://github.com/Hisn00w/Antigravity-Quota-Butler/releases/latest)
2. åœ¨ VS Code ä¸­ä» VSIX å®‰è£… / Install from VSIX in VS Code (`Extensions -> ... -> Install from VSIX`)
3. é‡å¯ VS Code / Restart VS Code

## æ„Ÿè°¢ / Credits

æœ¬é¡¹ç›®çµæ„Ÿæºè‡ªå¹¶åŸºäºä»¥ä¸‹ä¼˜ç§€å¼€æºé¡¹ç›®è¿›è¡Œæ·±åº¦å¼€å‘ä¸å¢å¼ºï¼š

1.  **[AntigravityQuotaWatcher](https://github.com/wusimpl/AntigravityQuotaWatcher)**ï¼šæä¾›äº†æ ¸å¿ƒçš„è¿›ç¨‹æ£€æµ‹ä¸é¢åº¦è·å–é€»è¾‘åŸºç¡€ã€‚æ„Ÿè°¢å…¶ä½œè€… [wusimpl](https://github.com/wusimpl) çš„å“è¶Šè´¡çŒ®ã€‚
2.  **[AntigravityQuota](https://github.com/Hisn00w/Antigravity-Quota-Butler)**ï¼šæœ¬é¡¹ç›®çš„å½“å‰å®˜æ–¹ç»´æŠ¤ä»“åº“ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ äº†ä»ªè¡¨ç›˜ã€å†å²è¿½è¸ªåŠæ™ºèƒ½å»ºè®®ç­‰ç‰¹æ€§ã€‚

---

Special thanks to the following open-source projects:

1.  **AntigravityQuotaWatcher**: Provided the initial logic for process detection and quota retrieval. Many thanks to [wusimpl](https://github.com/wusimpl).
2.  **AntigravityQuota**: The current home of this project, featuring the new dashboard, history tracking, and smart suggestions.
## è®¸å¯è¯ / License

[MIT License](LICENSE)
